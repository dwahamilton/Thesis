% !TEX root = ../../thesis.tex
\begin{tikzpicture}
  \begin{feynman}
    % Vertices
    \coordinate (q1) at (-1.5,1.25);
    \coordinate (q2) at (0,1);
    \coordinate (q3) at ($(q2)+(11.5:4.75)$);
    \coordinate (q4) at (-1.5,-1.25);
    \coordinate (q5) at (0,-1);
    \coordinate (q6) at ($(q5)+(-11.5:4.75)$);
    \coordinate (v1) at (1,0);
    \coordinate (x1) at (2.25,0);
    \coordinate (v2) at (3.5,0.75);
    \coordinate (v3) at (3.5,-0.75);
    \coordinate (q7) at ($(v2)+(15:1.25)$);
    \coordinate (q8) at ($(v2)+(-15:1.25)$);
    \coordinate (l1) at ($(v3)+(15:1.25)$);
    \coordinate (l2) at ($(v3)+(-15:1.25)$);

    \coordinate (q9) at ($(q1)+(8.5,0)$);
    \coordinate (q10) at ($(q2)+(8.5,0)$);
    \coordinate (q11) at ($(q3)+(8.5,0)$);
    \coordinate (q12) at ($(q4)+(8.5,0)$);
    \coordinate (q13) at ($(q5)+(8.5,0)$);
    \coordinate (q14) at ($(q6)+(8.5,0)$);
    \coordinate (v4) at ($(v1)+(8.5,0)$);
    \coordinate (x2) at ($(x1)+(8.5,0)$);
    \coordinate (v5) at ($(v2)+(8.5,0)$);
    \coordinate (v6) at ($(v3)+(8.5,0)$);
    \coordinate (q15) at ($(q7)+(8.5,0)$);
    \coordinate (q16) at ($(q8)+(8.5,0)$);
    \coordinate (l3) at ($(l1)+(8.5,0)$);
    \coordinate (l4) at ($(l2)+(8.5,0)$);

    % Lines
    \draw[fermion] (q1) -- (q2);
    \draw[fermion] (q2) -- (q3);
    \draw[fermion] (q4) -- (q5);
    \draw[fermion] (q5) -- (q6);
    \draw[boson] (q2) -- (v1) node[pos=0.65,xshift=-0.5cm] {$Z$};
    \draw[boson] (q5) -- (v1) node[pos=0.65,xshift=-0.5cm] {$Z$};
    \draw[boson] ($(v1)+(0,-0.025)$) -- ($(x1)+(0,-0.025)$);
    \draw[boson] ($(v1)+(0,0.025)$) -- ($(x1)+(0,0.025)$) node[pos=0.5,above] {$X$};
    \draw[boson] (x1) -- (v2) node[pos=0.9,xshift=-0.5cm] {$W$};
    \draw[boson] (x1) -- (v3) node[pos=0.9,xshift=-0.5cm] {$W$};
    \draw[fermion] (v2) -- (q7);
    \draw[fermion] (q8) -- (v2);
    \draw[fermion] (v3) -- (l1);
    \draw[fermion] (l2) -- (v3);

    \draw[fermion] (q9) -- (q10);
    \draw[fermion] (q10) -- (q11);
    \draw[fermion] (q12) -- (q13);
    \draw[fermion] (q13) -- (q14);
    \draw[boson] (q10) -- (v4) node[pos=0.65,xshift=-0.5cm] {$W$};
    \draw[boson] (q13) -- (v4) node[pos=0.65,xshift=-0.5cm] {$Z$};
    \draw[boson] (v4) -- (x2) node[pos=0.5,above] {$X$};
    \draw[scalar] (x2) -- (v5) node[pos=0.9,xshift=-0.5cm] {$H$};
    \draw[boson] (x2) -- (v6) node[pos=0.9,xshift=-0.5cm] {$W$};
    \draw[fermion] (v5) -- (q15);
    \draw[fermion] (q16) -- (v5);
    \draw[fermion] (v6) -- (l3);
    \draw[fermion] (l4) -- (v6);

    % Blobs
    \fill[white] (v1) circle (0.2);
    \fill[white] (x1) circle (0.2);
    \draw[pattern=north west lines] (v1) circle (0.2);
    \draw[pattern=north west lines] (x1) circle (0.2);

    \fill[white] (v4) circle (0.2);
    \fill[white] (x2) circle (0.2);
    \draw[pattern=north west lines] (v4) circle (0.2);
    \draw[pattern=north west lines] (x2) circle (0.2);

    % Labels
    \node[anchor=mid,left] at (q1) {$q''$};
    \node[anchor=mid,left] at (q4) {$q'''$};
    \node[anchor=mid,right] at (q3) {$q''$};
    \node[anchor=mid,right] at (q6) {$q'''$};
    \node[anchor=mid,right] at (q7) {$q$};
    \node[anchor=mid,right] at (q8) {$\bar{q}'$};
    \node[anchor=mid,right] at (l1) {$\ell$};
    \node[anchor=mid,right] at (l2) {$\nu$};

    \node[anchor=mid,left] at (q9) {$q'$};
    \node[anchor=mid,left] at (q12) {$q'''$};
    \node[anchor=mid,right] at (q11) {$q''$};
    \node[anchor=mid,right] at (q14) {$q'''$};
    \node[anchor=mid,right] at (q15) {$b$};
    \node[anchor=mid,right] at (q16) {$\bar{b}$};
    \node[anchor=mid,right] at (l3) {$\ell$};
    \node[anchor=mid,right] at (l4) {$\nu$};
  \end{feynman}
\end{tikzpicture}
