% Packages
\usepackage[T1]{fontenc} % Allows for 8-bit font encoding
\usepackage{setspace} % Sets space between lines
\usepackage{animate,pdfpages} % Allow for animated figures, importing PDF figures, and converting EPS to PDF
\usepackage[space]{grffile} % Extended file name support for graphics
\usepackage{float} % Improved interface for floating objects
\usepackage{subcaption} % Allows for subfigures within figures
\usepackage{caption} % Captions in floating environments
\usepackage{array} % Extending the array and tabular environments
\usepackage{multirow} % Create tabular cells spanning multiple rows
\usepackage{gensymb} % Generic symbols for both text and math mode
\usepackage{amsmath,amssymb,amsfonts,amsthm,mathrsfs,mathtools,accents} % Various packages for math typesetting
\usepackage{adjustbox,relsize} % Set font size relative to the current font size
\usepackage[notrig]{physics} % Physics symbols and units
\usepackage{siunitx} % Physics units
\usepackage{cancel,slashed} % Place lines through math and slashes through characters
\usepackage{xparse} % Generic document command parser
\usepackage{tikz,tikz-3dplot,circuitikz,pgfplots,tikz-cd,tikz-feynman} % Drawing environments
\usepackage{centernot} % Centered \not command
\usepackage{xcolor} % Color extensions for LaTeX and pdfLaTeX
\usepackage{listings} % Typeset text in WYSIWYG style and source code listings
\usepackage{fancyvrb} % Sophisticated verbatim text
%\usepackage{inconsolata} % Changes monospace font to inconsolata
\usepackage{lastpage} % Reference last page for Page N of M type footers
\usepackage[percent]{overpic} % Combine LaTeX commands over included graphics
\usepackage{empheq} % Emphasizing equations
\usepackage{comment} % Allows for commenting out large blocks of code
\usepackage[title]{appendix} % Customization of appendices
\usepackage{simpler-wick} % Allows for Wick contractions
\usepackage[htt]{hyphenat} % Enables hyphenation in \texttt environments
\usepackage{url} % Allows for \path command for long file paths
\usepackage[hidelinks,colorlinks=false]{hyperref} % Allow for hyperlinks
\usepackage{bookmark} % Automatically create bookmarks
\usepackage{xspace} % Allows for \xspace command to check if a space is needed
\usepackage{cite} % Makes citations with multiple references look better

% Configure TikZ
\input{preamble/tikz.tex}

% Configure listings
\input{preamble/listings.tex}

% Configure captions
\captionsetup[table]{font={stretch=1.5}}
\captionsetup[figure]{font={stretch=1.5}}

% Enable bold math in section titles
\makeatletter
\g@addto@macro\bfseries{\boldmath}
\makeatother

% Commands
\renewcommand\qedsymbol{$\blacksquare$} % Change QED symbol to solid black box
\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}} % Number equations in align* environments

\sisetup{inter-unit-product=\ensuremath{{}\cdot{}}} % Change symbol for products of physical units
\newcommand{\unit}{~\si} % Define physical unit command with proper spacing
\DeclareSIUnit\clight{\text{\ensuremath{c}}} % Redefine speed of light so that it has no subscript

% Redefine command for unit vectors to add space
\let\oldvu\vu
\makeatletter
\renewcommand{\vu}{\@ifstar{\mathop{}\!\oldvu*}\mathop{}\!\oldvu}
\makeatother

% Create spacing for equals sign in align environments
\newcommand{\equad}{\mathrel{\phantom{=}}}

% Alphabet for blackboard bold numbers
\newcommand{\bbfamily}{\fontencoding{U}\fontfamily{bbold}\selectfont}
\DeclareMathAlphabet{\mathbbold}{U}{bbold}{m}{n}

\newcommand{\C}{\mathbb{C}} % Complex numbers
\newcommand{\R}{\mathbb{R}} % Real numbers
\newcommand{\Q}{\mathbb{Q}} % Rational numbers
\newcommand{\Z}{\mathbb{Z}} % Integers
\newcommand{\N}{\mathbb{N}} % Natural numbers
\newcommand{\1}{\mathbbold{1}} % Identity matrix
\newcommand{\diag}{\operatorname{diag}} % Diagonal matrix
\renewcommand{\curl}{\grad\times} % Curl operator
\renewcommand{\div}{\grad\cdot} % Divergence operator
\newcommand{\cov}{\operatorname{cov}} % Covariance operator
\newcommand{\ggF}{\ensuremath{\mathrm{ggF}}\xspace} % Gluon-gluon fusion
\newcommand{\DY}{\ensuremath{\mathrm{DY}}\xspace} % Drell-Yan
\newcommand{\VBF}{\ensuremath{\mathrm{VBF}}\xspace} % Vector boson fusion
\newcommand{\qqbar}{\ensuremath{q\bar{q}}\xspace} % qqbar
\newcommand{\qqbarpr}{\ensuremath{q\bar{q}'}\xspace} % qqbar'
\newcommand{\qqbarprp}{\ensuremath{q\bar{q}^{(\prime)}}\xspace} % qqbar(')
\newcommand{\bbbar}{\ensuremath{b\bar{b}}\xspace} % bbbar
\newcommand{\lnuqqbar}{\ensuremath{\ell\nu\qqbar}\xspace} % lnuqqbar
\newcommand{\lnuqqbarpr}{\ensuremath{\ell\nu\qqbarpr}\xspace} % lnuqqbar'
\newcommand{\lnuqqbarprp}{\ensuremath{\ell\nu\qqbarprp}\xspace} % lnuqqbar'
\newcommand{\lnubbbar}{\ensuremath{\ell\nu\bbbar}\xspace} % lnubbbar
\newcommand{\Wtolnu}{\ensuremath{W\to\ell\nu}\xspace} % W->lnu
\newcommand{\Vtoqqbarpr}{\ensuremath{V\to\qqbarprp}\xspace} % V->qqbar(')
\newcommand{\Wtoqqbarpr}{\ensuremath{W\to\qqbarpr}\xspace} % W->qqbarpr
\newcommand{\Ztoqqbar}{\ensuremath{Z\to\qqbar}\xspace} % Z->qqbar
\newcommand{\Htobbbar}{\ensuremath{H\to b\bar{b}}\xspace} % H->bbbar
\newcommand{\WVtolnuqqbarpr}{\ensuremath{WV\to\lnuqqbarprp}\xspace} % WW->lnuqqbar'
\newcommand{\WWtolnuqqbarpr}{\ensuremath{WW\to\lnuqqbarpr}\xspace} % WW->lnuqqbar'
\newcommand{\WZtolnuqqbar}{\ensuremath{WZ\to\lnuqqbar}\xspace} % WZ->lnuqqbar
\newcommand{\WHtolnubbbar}{\ensuremath{WH\to\lnubbbar}\xspace} % WH->lnubbbar
\newcommand{\GBulk}{\ensuremath{G_\mathrm{bulk}}\xspace} % Bulk graviton
\newcommand{\GBulktoWW}{\ensuremath{\GBulk\to WW}\xspace} % Gbulk->WW
\newcommand{\GBulktoZZ}{\ensuremath{\GBulk\to ZZ}\xspace} % Gbulk->ZZ
\newcommand{\GBulktoWWtolnuqqbarpr}{\ensuremath{\GBulk\to\WWtolnuqqbarpr}\xspace} % Gbulk->WW->lnuqqbar'
\newcommand{\Rad}{\ensuremath{\phi}\xspace} % Radion
\newcommand{\RadtoWW}{\ensuremath{\Rad\to WW}\xspace} % Rad->WW
\newcommand{\RadtoZZ}{\ensuremath{\Rad\to ZZ}\xspace} % Rad->ZZ
\newcommand{\RadtoWWtolnuqqbarpr}{\ensuremath{\Rad\to\WWtolnuqqbarpr}\xspace} % Rad->WW->lnuqqbar'
\newcommand{\Wpr}{\ensuremath{W'}\xspace} % W prime
\newcommand{\WprtoWZ}{\ensuremath{W'\to WZ}\xspace} % W'->WZ
\newcommand{\WprtoWH}{\ensuremath{W'\to WH}\xspace} % W'->WH
\newcommand{\WprtoWZtolnuqqbar}{\ensuremath{W'\to\WZtolnuqqbar}\xspace} % W'->WZ->lnuqqbar
\newcommand{\WprtoWHtolnubbbar}{\ensuremath{W'\to\WHtolnubbbar}\xspace} % W'->WH->Lnubbbar
\newcommand{\Zpr}{\ensuremath{Z'}\xspace} % Z prime
\newcommand{\ZprtoWW}{\ensuremath{Z'\to WW}\xspace} % Z'->WW
\newcommand{\ZprtoZZ}{\ensuremath{Z'\to ZZ}\xspace} % Z'->ZZ
\newcommand{\ZprtoWWtolnuqqbarpr}{\ensuremath{Z'\to\WWtolnuqqbarpr}\xspace} % Z'->WW->lnuqqbar'
\newcommand{\XtoWV}{\ensuremath{X\to WV}\xspace} % X->WV
\newcommand{\XtoWW}{\ensuremath{X\to WW}\xspace} % X->WW
\newcommand{\XtoWZ}{\ensuremath{X\to WZ}\xspace} % X->WZ
\newcommand{\XtoWH}{\ensuremath{X\to WH}\xspace} % X->WH
\newcommand{\XtoWVtolnuqqbarpr}{\ensuremath{X\to\WVtolnuqqbarpr}\xspace} % X->WV->lnuqqbar'
\newcommand{\XtoWWtolnuqqbarpr}{\ensuremath{X\to\WWtolnuqqbarpr}\xspace} % X->WW->lnuqqbar'
\newcommand{\XtoWZtolnuqqbar}{\ensuremath{X\to\WZtolnuqqbar}\xspace} % X->WZ->lnuqqbar
\newcommand{\XtoWHtolnubbbar}{\ensuremath{X\to\WHtolnubbbar}\xspace} % X->WH->lnubbbar
\newcommand{\WW}{\ensuremath{WW}\xspace} % WW
\newcommand{\WZ}{\ensuremath{WZ}\xspace} % WZ
\newcommand{\WH}{\ensuremath{WH}\xspace} % WH
\newcommand{\WV}{\ensuremath{WV}\xspace} % WV
\newcommand{\ZZ}{\ensuremath{ZZ}\xspace} % ZZ
\newcommand{\ZH}{\ensuremath{ZH}\xspace} % ZH
\newcommand{\VorH}{\ensuremath{V/H}\xspace} %
\newcommand{\Wjets}{\ensuremath{W+\text{jets}}\xspace} % W+jets background
\newcommand{\WVt}{\ensuremath{W+V/t}\xspace} % W+V/t background
\newcommand{\Vhad}{\ensuremath{V_\mathrm{had}}\xspace} % Hadronically-decaying V
\newcommand{\Wlep}{\ensuremath{W_\mathrm{lep}}\xspace} % Leptonically-decaying W
\newcommand{\pt}{\ensuremath{p_\mathrm{T}}\xspace} % Transverse momentum
\newcommand{\ptjet}{\ensuremath{p_\mathrm{T,jet}}\xspace} % Jet transverse momentum
\newcommand{\kt}{\ensuremath{k_\mathrm{T}}\xspace} % Transverse momentum (k)
\newcommand{\ECM}{\ensuremath{E_\mathrm{CM}}\xspace} % Center-of-mass energy
\newcommand{\Et}{\ensuremath{E_\mathrm{T}}\xspace} % Transverse energy
\newcommand{\Etmiss}{\ensuremath{\Et^\mathrm{miss}}\xspace} % Missing transverse energy
\newcommand{\EtmissTI}{\ensuremath{\pqty{\Etmiss}^\mathrm{Type-I}}\xspace} % Type-I corrected missing transverse energy
\newcommand{\MVV}{\ensuremath{m_{WV/H}}\xspace} % Diboson mass
\newcommand{\MVVpart}{\ensuremath{m_\mathrm{diboson,part}}\xspace} % Partially simulated diboson mass
\newcommand{\MJ}{\ensuremath{m_\mathrm{jet}}\xspace} % Jet mass
\newcommand{\MX}{\ensuremath{m_\mathrm{X}}\xspace} % X mass
\newcommand{\nsubj}{\ensuremath{\tau_{21}}\xspace} % N-subjettiness
\newcommand{\nsubjDDT}{\ensuremath{\nsubj^\mathrm{DDT}}\xspace} % N-subjettiness DDT
\newcommand{\DetaVBF}{\ensuremath{\Delta\eta_\mathrm{dijet}}\xspace} % DeltaEta dijet
\newcommand{\mjjVBF}{\ensuremath{m_\mathrm{dijet}}\xspace} % VBF dijet mass
\newcommand{\nJets}{\ensuremath{N_\mathrm{jets}}\xspace} % Number of jets
\newcommand{\Dy}{\ensuremath{\Delta y_{WV/H}}\xspace} % DeltaY
\newcommand{\DoubleB}{\ensuremath{\mathrm{DoubleB}}\xspace} % DoubleB tagger
\newcommand{\PVV}{\ensuremath{P_{WV/H}}\xspace} % 2D conditional template
\newcommand{\PJ}{\ensuremath{P_j}\xspace} % 1D jet mass template
